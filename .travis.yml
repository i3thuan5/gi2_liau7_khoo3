sudo: false
dist: trusty
language: python
python:
- '3.4'
- '3.5'
env:
- TOX_ENV=flake8
- TOX_ENV=test
- TOX_ENV=check_migration
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - linux-libc-dev
      - gcc-multilib
      - automake
      - libtool
      - zlib1g-dev
      - libbz2-dev
      - liblzma-dev
      - libboost-all-dev
      - libgoogle-perftools-dev
      - cmake
      - csh
      - normalize-audio
install:
- pip install tox python-coveralls
branches:
  only:
  - master
script:
- tox -e $TOX_ENV
after_success:
- coverage report
- coveralls

